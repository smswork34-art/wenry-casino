<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ò—Å—Ç–æ—Ä–∏—è | ORANGEWIN</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --orange-main: #FF6B35;
            --orange-dark: #FF4D00;
            --accent-gold: #FFB347;
            --accent-green: #00FF88;
            --accent-red: #FF5E62;
            --dark-bg: #0F0A07;
            --card-bg: #1A130F;
            --text-light: #FFFFFF;
            --text-dim: #CCB7A6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background: var(--dark-bg);
            color: var(--text-light);
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            padding: 12px;
            padding-bottom: 80px;
            min-height: 100vh;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
        }

        /* –•–µ–¥–µ—Ä */
        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 15px;
            background: var(--card-bg);
            border-radius: 14px;
            margin-bottom: 20px;
            border: 1px solid rgba(255, 107, 53, 0.2);
        }

        .back-button {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--orange-main), var(--orange-dark));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            flex-shrink: 0;
        }

        .game-title {
            font-size: 1.3rem;
            font-weight: 700;
            text-align: center;
            flex-grow: 1;
            margin: 0 10px;
        }

        .balance-card {
            background: rgba(255, 107, 53, 0.1);
            padding: 8px 12px;
            border-radius: 10px;
            text-align: right;
            min-width: 100px;
            flex-shrink: 0;
        }

        .balance-label {
            font-size: 0.7rem;
            color: var(--text-dim);
            margin-bottom: 2px;
        }

        .balance-amount {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent-gold);
        }

        /* –§–∏–ª—å—Ç—Ä—ã */
        .history-filters {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 5px;
        }

        .filter-btn {
            padding: 8px 15px;
            background: rgba(255, 107, 53, 0.1);
            border: 1px solid rgba(255, 107, 53, 0.2);
            border-radius: 20px;
            color: var(--text-dim);
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.2s;
        }

        .filter-btn.active {
            background: linear-gradient(135deg, var(--orange-main), var(--orange-dark));
            color: white;
            border-color: transparent;
        }

        /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255, 107, 53, 0.2);
        }

        .stat-value {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--accent-gold);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.75rem;
            color: var(--text-dim);
        }

        /* –ò—Å—Ç–æ—Ä–∏—è */
        .history-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .history-item {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 15px;
            border: 1px solid rgba(255, 107, 53, 0.2);
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.2s;
        }

        .history-icon {
            width: 40px;
            height: 40px;
            background: rgba(255, 107, 53, 0.15);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: var(--accent-gold);
            flex-shrink: 0;
        }

        .history-info {
            flex-grow: 1;
            min-width: 0;
        }

        .history-game {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-light);
            margin-bottom: 3px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .history-details {
            font-size: 0.75rem;
            color: var(--text-dim);
            display: flex;
            gap: 8px;
        }

        .history-amount {
            font-size: 1.1rem;
            font-weight: 700;
            min-width: 80px;
            text-align: right;
            flex-shrink: 0;
        }

        .amount-win {
            color: var(--accent-green);
        }

        .amount-lose {
            color: var(--accent-red);
        }

        .empty-history {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-dim);
        }

        .empty-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            opacity: 0.5;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(26, 19, 15, 0.98);
            backdrop-filter: blur(10px);
            border-top: 2px solid rgba(255, 107, 53, 0.2);
            padding: 10px;
            display: flex;
            justify-content: space-around;
            z-index: 100;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            color: var(--text-dim);
            padding: 5px;
            min-width: 60px;
        }

        .nav-item.active {
            color: var(--orange-main);
        }

        .nav-icon {
            width: 36px;
            height: 36px;
            background: var(--card-bg);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            transition: all 0.2s;
        }

        .nav-item.active .nav-icon {
            background: linear-gradient(135deg, var(--orange-main), var(--orange-dark));
            color: white;
        }

        .nav-label {
            font-size: 0.65rem;
            font-weight: 600;
        }

        @media (max-width: 360px) {
            .history-item {
                padding: 12px;
            }
            
            .history-icon {
                width: 35px;
                height: 35px;
                font-size: 1rem;
            }
            
            .history-amount {
                min-width: 70px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="game-header">
            <div class="back-button" onclick="goBack()">
                <i class="fas fa-arrow-left"></i>
            </div>
            <div class="game-title">–ò–°–¢–û–†–ò–Ø</div>
            <div class="balance-card">
                <div class="balance-label">–ë–ê–õ–ê–ù–°</div>
                <div class="balance-amount">2 480 ‚ÇΩ</div>
            </div>
        </div>

        <!-- –§–∏–ª—å—Ç—Ä—ã -->
        <div class="history-filters">
            <button class="filter-btn active" onclick="filterHistory('all')">–í–°–Å</button>
            <button class="filter-btn" onclick="filterHistory('today')">–°–ï–ì–û–î–ù–Ø</button>
            <button class="filter-btn" onclick="filterHistory('week')">–ù–ï–î–ï–õ–Ø</button>
            <button class="filter-btn" onclick="filterHistory('wins')">–í–´–ò–ì–†–´–®–ò</button>
            <button class="filter-btn" onclick="filterHistory('deposits')">–ü–û–ü–û–õ–ù–ï–ù–ò–Ø</button>
        </div>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="stats-cards">
            <div class="stat-card">
                <div class="stat-value">+1 240 ‚ÇΩ</div>
                <div class="stat-label">–í–´–ò–ì–†–ê–ù–û –ó–ê –ù–ï–î–ï–õ–Æ</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">48</div>
                <div class="stat-label">–°–´–ì–†–ê–ù–û –ò–ì–†</div>
            </div>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—Ä–∏–∏ -->
        <div class="history-list" id="historyList">
            <!-- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>

        <!-- –ï—Å–ª–∏ –∏—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞ -->
        <div class="empty-history" id="emptyHistory" style="display: none;">
            <div class="empty-icon">üìä</div>
            <div style="font-size: 1rem; margin-bottom: 10px; font-weight: 600;">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</div>
            <div style="font-size: 0.85rem; color: var(--text-dim); margin-bottom: 20px;">
                –°—ã–≥—Ä–∞–π—Ç–µ –≤ –∏–≥—Ä—ã, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∑–¥–µ—Å—å –∏—Å—Ç–æ—Ä–∏—é
            </div>
            <button onclick="window.location.href='index.html'" style="
                padding: 12px 24px;
                background: linear-gradient(135deg, var(--orange-main), var(--orange-dark));
                border: none;
                border-radius: 10px;
                color: white;
                font-weight: 700;
                font-size: 0.9rem;
                cursor: pointer;
            ">
                –ù–ê–ß–ê–¢–¨ –ò–ì–†–ê–¢–¨
            </button>
        </div>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="bottom-nav">
        <div class="nav-item" onclick="window.location.href='index.html'">
            <div class="nav-icon">
                <i class="fas fa-gamepad"></i>
            </div>
            <div class="nav-label">–ò–≥—Ä—ã</div>
        </div>
        
        <div class="nav-item" onclick="window.location.href='bonuses.html'">
            <div class="nav-icon">
                <i class="fas fa-gift"></i>
            </div>
            <div class="nav-label">–ë–æ–Ω—É—Å—ã</div>
        </div>
        
        <div class="nav-item active">
            <div class="nav-icon">
                <i class="fas fa-history"></i>
            </div>
            <div class="nav-label">–ò—Å—Ç–æ—Ä–∏—è</div>
        </div>
        
        <div class="nav-item" onclick="window.location.href='profile.html'">
            <div class="nav-icon">
                <i class="fas fa-user"></i>
            </div>
            <div class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</div>
        </div>
    </nav>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        
        let currentFilter = 'all';
        const historyList = document.getElementById('historyList');
        const emptyHistory = document.getElementById('emptyHistory');
        
        // –ü—Ä–∏–º–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏
        const historyData = [
            { id: 1, game: '–ë—ã—Å—Ç—Ä—ã–µ –∫–æ—Å—Ç–∏', type: 'win', amount: 100, time: '10:25', details: '–°—Ç–∞–≤–∫–∞: 10 ‚ÇΩ, –ß–∏—Å–ª–æ: 4' },
            { id: 2, game: '–ú–∏–Ω—ë—Ä', type: 'win', amount: 240, time: '09:48', details: '–û—Ç–∫—Ä—ã—Ç–æ: 8 —è—á–µ–µ–∫' },
            { id: 3, game: '–û—Ä—ë–ª –∏ —Ä–µ—à–∫–∞', type: 'lose', amount: 50, time: '09:12', details: '–°—Ç–∞–≤–∫–∞: 50 ‚ÇΩ' },
            { id: 4, game: '–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ', type: 'deposit', amount: 1000, time: '–í—á–µ—Ä–∞, 18:30', details: '–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞' },
            { id: 5, game: '–ë—ã—Å—Ç—Ä—ã–µ –∫–æ—Å—Ç–∏', type: 'lose', amount: 100, time: '–í—á–µ—Ä–∞, 17:45', details: '–°—Ç–∞–≤–∫–∞: 100 ‚ÇΩ, –ß–∏—Å–ª–æ: 2' },
            { id: 6, game: '–ú–∏–Ω—ë—Ä', type: 'win', amount: 150, time: '–í—á–µ—Ä–∞, 16:20', details: '–û—Ç–∫—Ä—ã—Ç–æ: 5 —è—á–µ–µ–∫' },
            { id: 7, game: '–ë–æ–Ω—É—Å', type: 'bonus', amount: 140, time: '–í—á–µ—Ä–∞, 12:00', details: '–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –±–æ–Ω—É—Å' },
            { id: 8, game: '–û—Ä—ë–ª –∏ —Ä–µ—à–∫–∞', type: 'win', amount: 100, time: '2 –¥–Ω—è –Ω–∞–∑–∞–¥', details: '–°—Ç–∞–≤–∫–∞: 50 ‚ÇΩ' }
        ];
        
        function goBack() {
            window.history.back();
        }
        
        function filterHistory(filter) {
            currentFilter = filter;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é
            displayHistory();
        }
        
        function getGameIcon(gameName) {
            const icons = {
                '–ë—ã—Å—Ç—Ä—ã–µ –∫–æ—Å—Ç–∏': 'fas fa-dice',
                '–û—Ä—ë–ª –∏ —Ä–µ—à–∫–∞': 'fas fa-coins',
                '–ú–∏–Ω—ë—Ä': 'fas fa-bomb',
                '–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ': 'fas fa-plus-circle',
                '–ë–æ–Ω—É—Å': 'fas fa-gift',
                '–í—ã–≤–æ–¥': 'fas fa-minus-circle'
            };
            return icons[gameName] || 'fas fa-gamepad';
        }
        
        function displayHistory() {
            // –§–∏–ª—å—Ç—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ
            let filteredData = historyData;
            
            if (currentFilter === 'today') {
                filteredData = historyData.filter(item => item.time.includes(':') || item.time.includes('–°–µ–≥–æ–¥–Ω—è'));
            } else if (currentFilter === 'wins') {
                filteredData = historyData.filter(item => item.type === 'win' || item.type === 'bonus' || item.type === 'deposit');
            } else if (currentFilter === 'deposits') {
                filteredData = historyData.filter(item => item.type === 'deposit');
            }
            
            // –û—á–∏—â–∞–µ–º —Å–ø–∏—Å–æ–∫
            historyList.innerHTML = '';
            
            // –ï—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö
            if (filteredData.length === 0) {
                emptyHistory.style.display = 'block';
                historyList.style.display = 'none';
                return;
            }
            
            emptyHistory.style.display = 'none';
            historyList.style.display = 'flex';
            
            // –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã
            filteredData.forEach(item => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                
                const amountClass = item.type === 'win' || item.type === 'deposit' || item.type === 'bonus' 
                    ? 'amount-win' 
                    : 'amount-lose';
                
                const amountSign = item.type === 'win' || item.type === 'deposit' || item.type === 'bonus' ? '+' : '-';
                
                historyItem.innerHTML = `
                    <div class="history-icon">
                        <i class="${getGameIcon(item.game)}"></i>
                    </div>
                    <div class="history-info">
                        <div class="history-game">${item.game}</div>
                        <div class="history-details">
                            <span>${item.details}</span>
                            <span>‚Ä¢</span>
                            <span>${item.time}</span>
                        </div>
                    </div>
                    <div class="history-amount ${amountClass}">
                        ${amountSign}${item.amount} ‚ÇΩ
                    </div>
                `;
                
                historyList.appendChild(historyItem);
            });
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            displayHistory();
        });
    </script>
</body>
</html>
